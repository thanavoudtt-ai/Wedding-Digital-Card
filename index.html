<!DOCTYPE html>
<html lang="lo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Mick & Ploy Wedding</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Lao:wght@300;500;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
        :root {
            --primary-pink: #d63384;
            --bcel-blue: #0055a4;
            --glass-bg: rgba(255, 255, 255, 0.4);
            --border-glass: rgba(255, 255, 255, 0.5);
            --main-font: 'Noto Sans Lao', sans-serif;
            --name-font: 'Dancing Script', cursive;
        }

        /* ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ü‡∏≠‡∏ô‡∏ï‡πå Noto Sans Lao ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            font-family: var(--main-font); 
        }

        body, html { 
            margin: 0; padding: 0; width: 100%; min-height: 100dvh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            background-attachment: fixed; overflow-x: hidden;
            color: #4a4a4a;
        }

        /* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ SweetAlert2 Popup ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
        .swal2-popup, .swal2-title, .swal2-html-container, .swal2-confirm, .swal2-content {
            font-family: var(--main-font) !important;
        }

        .app-wrapper {
            width: 100%; max-width: 500px; margin: 0 auto;
            min-height: 100dvh; display: flex; flex-direction: column; padding: 20px 15px;
        }

        .card { 
            width: 100%; padding: clamp(15px, 5vw, 25px);
            background: var(--glass-bg); backdrop-filter: blur(20px); 
            -webkit-backdrop-filter: blur(20px); border: 1px solid var(--border-glass);
            border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 20px;
        }

        /* ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏•‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏ö‡πà‡∏≤‡∏ß‡πÄ‡∏à‡πâ‡∏≤‡∏™‡∏≤‡∏ß */
        .names-handwriting { 
            font-family: var(--name-font) !important; 
            font-size: clamp(3.5rem, 14vw, 4.5rem);
            color: var(--primary-pink); margin: 10px 0; line-height: 1.2; text-align: center;
        }

        .btn-open { 
            padding: 18px 45px; background: var(--primary-pink);
            color: white; border: none; border-radius: 20px; 
            font-size: 1.1rem; cursor: pointer; font-weight: 700;
            box-shadow: 0 8px 20px rgba(214, 51, 132, 0.3);
            transition: transform 0.2s;
        }
        .btn-open:active { transform: scale(0.95); }

        .main-content { display: none; animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ‡∏™‡πÑ‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
        .swiper { width: 100%; margin: 15px 0; }
        .swiper-slide { 
            width: 80%; max-width: 280px; aspect-ratio: 3/4; 
            border-radius: 20px; overflow: hidden; 
        }
        .swiper-slide img { width: 100%; height: 100%; object-fit: cover; }

        .map-btn {
            background: rgba(0, 0, 0, 0.6); color: white;
            padding: 12px 25px; border-radius: 15px; text-decoration: none;
            font-size: 0.9rem; display: inline-block; margin: 15px 0;
            font-weight: 500;
        }

        /* ‡∏£‡∏∞‡∏ö‡∏ö QR Grid */
        .qr-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 15px; }
        .qr-mini-card {
            background: rgba(255,255,255,0.4); padding: 10px; border-radius: 20px; 
            cursor: pointer; border: 1px solid var(--border-glass); text-align: center;
        }
        .qr-mini-card img { width: 100%; border-radius: 12px; display: block; }
        .qr-mini-card p { font-size: 0.8rem; margin: 8px 0 0 0; font-weight: 700; color: var(--primary-pink); }

        /* ‡∏õ‡∏∏‡πà‡∏° BCEL ‡πÉ‡∏ô Popup */
        .bcel-btn {
            display: block; background: var(--bcel-blue); color: white !important; 
            text-decoration: none; padding: 15px; border-radius: 15px; 
            font-weight: bold; margin-top: 15px; font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0,85,164,0.3);
        }

        /* ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏° */
        .rsvp-form input, .rsvp-form textarea {
            width: 100%; padding: 14px; margin-bottom: 12px; border-radius: 15px; 
            border: 1px solid var(--border-glass); background: rgba(255,255,255,0.5);
            outline: none; font-size: 1rem;
        }
        .submit-btn {
            width: 100%; background: var(--primary-pink); color: white; 
            padding: 15px; border: none; border-radius: 18px; 
            font-size: 1rem; font-weight: bold; cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="app-wrapper">
        <div id="welcome" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <div class="card" style="text-align: center;">
                <h2 style="color:white; text-shadow: 0 2px 8px rgba(0,0,0,0.1); font-weight: 700;">You are Invited! üíå</h2>
                <p style="color:white; margin-bottom: 25px; font-weight: 300;">‡∫Ç‡ªç‡∫Æ‡∫Ω‡∫ô‡ªÄ‡∫ä‡∫µ‡∫ô‡∫ó‡ªà‡∫≤‡∫ô‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡∫Æ‡ªà‡∫ß‡∫°‡∫á‡∫≤‡∫ô‡ªÅ‡∫ï‡ªà‡∫á‡∫á‡∫≤‡∫ô</p>
                <button class="btn-open" onclick="openCard()">‡ªÅ‡∫ï‡∫∞‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫õ‡∫µ‡∫î‡∫Å‡∫≤‡∫î</button>
            </div>
        </div>

        <div id="mainContent" class="main-content">
            <div class="card" style="text-align: center;">
                <div class="names-handwriting">Mick & Ploy</div>
                <p style="color: var(--primary-pink); font-weight: 700; font-size: 1.2rem; margin-top: -5px;">26 February 2026</p>
                
                <div class="swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><img src="https://res.cloudinary.com/do8l02aly/image/upload/v1772149984/nature-landscape-skytiful-outdoor-field-background-agriculture-summer-travel-asia-sunset-water-rural_okq4wc.jpg"></div>
                        <div class="swiper-slide"><img src="https://res.cloudinary.com/do8l02aly/image/upload/v1772150263/vibrant-red-light-trails-creating-dynamic-patterns-dark-background-generative-ai_iznsua.jpg"></div>
                        <div class="swiper-slide"><img src="https://res.cloudinary.com/do8l02aly/image/upload/v1772150409/view-delicious-food-reunion-dinner-anime-style_pxrino.jpg"></div>
                    </div>
                </div>

                <p style="font-weight: 700; margin-top: 20px;">üìç ‡ªÇ‡∫Æ‡∫á‡ªÅ‡∫Æ‡∫° ‡ªÅ‡∫Å‡∫£‡∫ô ‡ªÇ‡∫Æ‡ªÄ‡∫ó‡∫ß</p>
                <a href="https://maps.google.com" target="_blank" class="map-btn">üìç ‡ªÄ‡∫õ‡∫µ‡∫î‡ªÅ‡∫ú‡∫ô‡∫ó‡∫µ‡ªà Maps</a>

                <div class="rsvp-form" style="margin-top: 25px; border-top: 1px solid rgba(255,255,255,0.3); padding-top: 20px;">
                    <h3 style="color: var(--primary-pink); font-size: 1.1rem; margin-bottom: 15px; font-weight: 700;">‚úçÔ∏è ‡∫¢‡∫∑‡∫ô‡∫¢‡∫±‡∫ô‡∫Å‡∫≤‡∫ô‡∫Æ‡ªà‡∫ß‡∫°‡∫á‡∫≤‡∫ô</h3>
                    <form id="rsvpForm">
                        <input type="text" name="Name" placeholder="‡∫ä‡∫∑‡ªà ‡ªÅ‡∫•‡∫∞ ‡∫ô‡∫≤‡∫°‡∫™‡∫∞‡∫Å‡∫∏‡∫ô" required>
                        <input type="number" name="GuestCount" placeholder="‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫ú‡∫π‡ªâ‡∫ï‡∫¥‡∫î‡∫ï‡∫≤‡∫°" required>
                        <textarea name="Blessing" placeholder="‡∫Ç‡∫Ω‡∫ô‡∫Ñ‡∫≥‡∫≠‡∫ß‡∫ç‡∫û‡∫≠‡∫ô..." rows="3"></textarea>
                        <button type="submit" id="submitBtn" class="submit-btn">‡∫™‡∫ª‡ªà‡∫á‡∫Ñ‡∫≥‡∫≠‡∫ß‡∫ç‡∫û‡∫≠‡∫ô ‚ú®</button>
                    </form>
                </div>

                <h3 style="margin-top: 30px; font-size: 0.9rem; opacity: 0.8; font-weight: 500;">‡∫Æ‡ªà‡∫ß‡∫°‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫Ñ‡∫ß‡∫≤‡∫°‡∫ç‡∫¥‡∫ô‡∫î‡∫µ (‡∫Å‡∫ª‡∫î‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫ö‡∫¥‡ªà‡∫á QR)</h3>
                <div class="qr-grid">
                    <div class="qr-mini-card" onclick="showQR('https://res.cloudinary.com/do8l02aly/image/upload/v1772152062/1_psyfaa.jpg', '‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫ö‡ªà‡∫≤‡∫ß', '00020101021138670016A00526628466257701082771041802030010324HWAMWPTDTOECSGAKOAIJIZRM53034185802LA630447B1')">
                        <img src="https://res.cloudinary.com/do8l02aly/image/upload/v1772152062/1_psyfaa.jpg">
                        <p>‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫ö‡ªà‡∫≤‡∫ß</p>
                    </div>
                    <div class="qr-mini-card" onclick="showQR('https://res.cloudinary.com/do8l02aly/image/upload/v1772152062/2_gdpgum.jpg', '‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫™‡∫≤‡∫ß', '‡ªÉ‡∫™‡ªà‡∫•‡∫∞‡∫´‡∫±‡∫îEMVCo‡∫Ç‡∫≠‡∫á‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫™‡∫≤‡∫ß‡∫ö‡ªà‡∫≠‡∫ô‡∫ô‡∫µ‡ªâ')">
                        <img src="https://res.cloudinary.com/do8l02aly/image/upload/v1772152062/2_gdpgum.jpg">
                        <p>‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤‡∫™‡∫≤‡∫ß</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://res.cloudinary.com/do8l02aly/video/upload/v1772150884/Stephen_Sanchez_-_Until_I_Found_You_Official_Video_gwzkvi.mp3" type="audio/mpeg">
    </audio>

    <script>
        const music = document.getElementById('bgMusic');

        function openCard() {
            document.getElementById('welcome').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            music.play().catch(e => console.log("Music auto-play blocked by browser"));
            
            // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡πÑ‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
            new Swiper('.swiper', {
                effect: 'coverflow', centeredSlides: true, slidesPerView: 'auto', loop: true,
                coverflowEffect: { rotate: 20, stretch: 0, depth: 100, modifier: 1, slideShadows: false },
                autoplay: { delay: 3000 },
            });
        }

        function showQR(imgUrl, name, qrData) {
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Deep Link ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ BCEL One
            const deepLink = `bcelsv://onepay?qr=${qrData}`;

            Swal.fire({
                title: '‡∫ö‡∫±‡∫ô‡∫ä‡∫µ ' + name,
                html: `
                    <div style="text-align:center;">
                        <img src="${imgUrl}" style="width:220px; border-radius:15px; margin-bottom:15px;">
                        <p style="font-size:0.85rem; color:#666; margin-bottom:10px;">‡ªÅ‡∫Ñ‡∫±‡∫ö‡∫à‡ªç‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡∫™‡∫∞‡ªÅ‡∫Å‡∫ô ‡∫´‡∫º‡∫∑ ‡∫Å‡∫ª‡∫î‡∫õ‡∫∏‡ªà‡∫°‡∫•‡∫∏‡ªà‡∫°‡∫ô‡∫µ‡ªâ</p>
                        
                        <a href="${deepLink}" class="bcel-btn">
                            üì≤ ‡ªÄ‡∫õ‡∫µ‡∫î‡ªÅ‡∫≠‡∫±‡∫ö BCEL One
                        </a>
                        
                        <p style="font-size:0.7rem; color:#999; margin-top:15px;">
                            (‡ªù‡∫≤‡∫ç‡ªÄ‡∫´‡∫î: ‡∫õ‡∫∏‡ªà‡∫°‡∫ô‡∫µ‡ªâ‡ªÉ‡∫ä‡ªâ‡ªÑ‡∫î‡ªâ‡∫™‡∫∞‡ªÄ‡∫û‡∫≤‡∫∞‡∫°‡∫∑‡∫ñ‡∫∑‡∫ó‡∫µ‡ªà‡∫°‡∫µ‡ªÅ‡∫≠‡∫±‡∫ö BCEL One ‡ªÄ‡∫ó‡∫ª‡ªà‡∫≤‡∫ô‡∫±‡ªâ‡∫ô)
                        </p>
                    </div>
                `,
                showConfirmButton: false,
                showCloseButton: true,
                background: '#fff'
            });
        }

        // ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÑ‡∏õ Google Sheets
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxLtB7FReQbp_Z45iJ3vgvKytsb6g-osU3nfOfL361qBekS5Jk3G3pYhipD9f9S8ZwT/exec';
        const form = document.getElementById('rsvpForm');
        const btn = document.getElementById('submitBtn');

        form.addEventListener('submit', e => {
            e.preventDefault();
            btn.innerHTML = "‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫™‡∫ª‡ªà‡∫á...";
            btn.disabled = true;

            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => {
                    Swal.fire({
                        icon: 'success',
                        title: '‡∫™‡∫ª‡ªà‡∫á‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î‡ªÅ‡∫•‡ªâ‡∫ß!',
                        text: '‡∫Ç‡ªç‡∫Ç‡∫≠‡∫ö‡ªÉ‡∫à‡∫™‡∫≥‡∫•‡∫±‡∫ö‡∫Ñ‡∫≥‡∫≠‡∫ß‡∫ç‡∫û‡∫≠‡∫ô üôè‚ù§Ô∏è',
                        confirmButtonText: '‡∫ï‡∫ª‡∫Å‡∫•‡∫ª‡∫á',
                        confirmButtonColor: '#d63384',
                    }).then(() => {
                        music.pause();
                        document.querySelector('.app-wrapper').innerHTML = `
                            <div class="card" style="margin: 50% auto 0; text-align:center; animation: fadeIn 1s;">
                                <h2 style="color:#d63384; font-weight:700;">‡∫Ç‡∫≠‡∫ö‡ªÉ‡∫à‡∫´‡∫º‡∫≤‡∫ç‡ªÜ! üíå</h2>
                                <p style="font-weight:500;">‡ªÅ‡∫•‡ªâ‡∫ß‡∫û‡∫ª‡∫ö‡∫Å‡∫±‡∫ô‡ªÉ‡∫ô‡∫á‡∫≤‡∫ô‡ªÄ‡∫î‡∫µ üôè</p>
                                <button onclick="location.reload()" class="map-btn">‡ªÄ‡∫õ‡∫µ‡∫î‡ªÉ‡ªù‡ªà</button>
                            </div>`;
                    });
                })
                .catch(error => {
                    Swal.fire({
                        icon: 'error',
                        title: '‡∫ú‡∫¥‡∫î‡∫û‡∫≤‡∫î',
                        text: '‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫•‡∫≠‡∫á‡ªÉ‡ªù‡ªà‡∫≠‡∫µ‡∫Å‡∫Ñ‡∫±‡ªâ‡∫á',
                        confirmButtonText: '‡∫ï‡∫ª‡∫Å‡∫•‡∫ª‡∫á'
                    });
                    btn.innerHTML = "‡∫™‡∫ª‡ªà‡∫á‡∫Ñ‡∫≥‡∫≠‡∫ß‡∫ç‡∫û‡∫≠‡∫ô ‚ú®";
                    btn.disabled = false;
                });
        });
    </script>
</body>
</html>